# Gitleaks configuration for dotfiles repo
# https://github.com/gitleaks/gitleaks

title = "dotfiles gitleaks config"

[extend]
# Use the default gitleaks rules as a base
useDefault = true

[allowlist]
description = "Allowlist for dotfiles repo"

# Paths to ignore (vendor/plugin directories only)
paths = [
    '''\.git/''',
    '''vim/\.vim/plugged/''',
    '''tmux/\.tmux/plugins/''',
]

# Patterns that are allowed (not secrets)
regexes = [
    # 1Password references (op://vault/item/field)
    '''op://[\w\-]+/[\w\-]+/[\w\-]+''',
    # Placeholder/example patterns
    '''YOUR_.*_HERE''',
    '''REPLACE_.*''',
    '''<.*_TOKEN>''',
    '''example\.com''',
    # Common dotfile placeholders
    '''XXXXXXXX''',
    '''xxxxxxxx''',
    # Public read-only Nexus username
    '''NEXUS_USERNAME.*dev-read''',
]

# Specific commits to ignore (add as needed)
# commits = [
#     "abc123...",
# ]
